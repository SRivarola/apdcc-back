import{f as T,a as f,r as n,j as e,b as x,m as g,c as j,s as w,g as F,i as N}from"./index-iAvMSn7O.js";import{F as E,T as k}from"./TournamentTable-cksXG7VY.js";import"./moment-WSJ9un1t.js";import{E as b}from"./external-link-wVeKCBKx.js";import{m as C}from"./chunk-3S23ARPO-R4G7t9Cy.js";import{m as y}from"./chunk-EPDLEVDR-Zlm-YNY8.js";import{m as O}from"./chunk-QY5NICTW-Dk-6Nbfc.js";import{p as v}from"./chunk-BIN3WWJN-1wdQZdcl.js";import{t as S,a as z,b as M,c as $,d as A,e as P}from"./chunk-YRZGWF2W-jOM1iz-C.js";import{g as L}from"./chunk-KARN4QIT-dIlius-J.js";import{t as I,a as u}from"./chunk-FXLYF44B-y39Uf_bL.js";import"./lodash-LeqdOQ0w.js";import"./chunk-MA2FG3JE-oQgsJGoJ.js";import"./chunk-AMSULWPV-72_QTxLq.js";import"./import-Sb5K26Mj.js";import"./pen-square-zKieONUn.js";import"./chunk-TC4QW7OA-awqbcFK6.js";import"./import-GwI392wx.js";import"./chunk-M3MASYO7-MF5-T0bH.js";import"./ballIcon-OqZMHW6T.js";import"./chunk-K3TANQWH-_tvLkwgP.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./chunk-ZFWMN6TD-x4uwpBV7.js";import"./import-I6dRycQZ.js";import"./chunk-7F3ZLNJ6-Lre8nyzq.js";import"./DownloadFixturePDF-fDYqtpku.js";import"./react-pdf.browser-IOZG4LHW.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./LOGO-NEGRO-HORIZONTAL-msT39if3.js";import"./chunk-MPX6TMFQ-mPo9f9GA.js";import"./chunk-OFH6WYRQ-wTWxCSGF.js";import"./index-taukuCH3.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=T("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function G({name:a,id:s,placement:l}){const{isOpen:t,onOpen:o,onOpenChange:m}=f(),[i,c]=n.useState([]);return n.useEffect(()=>{(async()=>{try{const r=await fetch(`https://apdcc.com.ar/api/matches/?tournament_id=${s}`);if(!r.ok){console.log("Algo salio mal en el fetch");return}const{response:p}=await r.json();c(p)}catch(r){console.log(r)}})()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(x,{onPress:o,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(b,{size:16})}),e.jsx(g,{placement:l,scrollBehavior:"inside",size:"5xl",isOpen:t,onOpenChange:m,className:"w-full border dark text-foreground border-default-400",children:e.jsx(j,{children:()=>e.jsxs(e.Fragment,{children:[e.jsxs(C,{className:"flex flex-col gap-1",children:["Fixture de ",a]}),e.jsx(y,{children:i.length?e.jsx(E,{matches:i}):e.jsxs("div",{className:"flex items-start gap-2 text-warning",children:[e.jsx(H,{size:20}),"No hay fechas disponibles en este momento."]})}),e.jsx(O,{})]})})})]})}function R({name:a,id:s,placement:l}){const{isOpen:t,onOpen:o,onOpenChange:m}=f(),[i,c]=n.useState(null);return n.useEffect(()=>{(async()=>{try{const r=await fetch(`https://apdcc.com.ar/api/matches/tournament/${s}`,{method:"GET",credentials:"include"});if(r.ok){const{matchsresults:p}=await r.json();c(p)}}catch{throw new Error}})()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(x,{onPress:o,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(b,{size:16})}),e.jsx(g,{scrollBehavior:"inside",placement:l,size:"3xl",isOpen:t,onOpenChange:m,className:"w-full border dark text-foreground border-default-400",children:e.jsx(j,{children:()=>e.jsx(y,{className:"px-0",children:e.jsx(k,{targets:i})})})})]})}const U=[{label:"Categoría",key:"category"},{label:"Torneos",key:"tournament"},{label:"Fixture",key:"fixture"},{label:"Posiciones",key:"positions"}];function _({data:a,isFetching:s,setCurrentPage:l}){return e.jsxs(S,{isStriped:!0,"aria-label":"Tournament Table",className:"shadow-lg shadow-white/10 rounded-xl",bottomContent:a.page>0?e.jsx("div",{className:`${a.docs?"opacity-100":"opacity-0"} flex items-center justify-center w-full gap-4`,children:e.jsx(v,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:a.page,total:a.totalPages,onChange:t=>{l(t)}})}):null,children:[e.jsx(z,{columns:U,children:t=>e.jsx(M,{className:"uppercase",children:t.label},t.key)}),e.jsx($,{emptyContent:s?" ":a.docs.length===0?"No se encontraron torneos":"",items:s?[]:a.docs,isLoading:s,loadingContent:e.jsx(w,{label:"Loading..."}),children:t=>e.jsx(A,{children:o=>e.jsx(P,{className:"capitalize",children:o==="category"?e.jsx("p",{children:t.category_id.name}):o==="tournament"?e.jsx("p",{children:t.name}):o==="fixture"?e.jsx(G,{placement:"center",name:t.name,id:t._id}):o==="positions"?e.jsx(R,{placement:"center",name:t.name,id:t._id}):L(t,o)})},t._id)})]})}const Y=({queries:a})=>{const[s,l]=n.useState(null),[t,o]=n.useState(1),[m,i]=n.useState(!0),c=async()=>{try{i(!0);const r=await(await fetch(`https://apdcc.com.ar/api/tournaments?page=${t}`,{method:"GET",headers:{queries:JSON.stringify(a)}})).json();l(r.response)}catch(d){throw new Error(d)}finally{i(!1)}};return n.useEffect(()=>{c()},[t,a]),e.jsx(e.Fragment,{children:s?e.jsx(_,{data:s,isFetching:m,setCurrentPage:o}):null})},h=({sport:a,title:s})=>{const[l,t]=n.useState(null),[o,m]=n.useState(1),[i,c]=n.useState(!0),d=async()=>{try{c(!0);const p=await(await fetch(`https://apdcc.com.ar/api/tournaments?page=${o}`,{method:"GET",headers:{queries:JSON.stringify({sport:a,genre:"MASCULINO"})}})).json();t(p.response)}catch(r){throw new Error(r)}finally{c(!1)}};return n.useEffect(()=>{d()},[o,a]),e.jsx(e.Fragment,{children:l?e.jsx(_,{data:l,isFetching:i,setCurrentPage:m}):null})},B=function({queries:s}){const t=F().pathname;return n.useEffect(()=>{window.scrollTo(0,0)},[t]),e.jsxs("section",{className:"z-10 min-h-screen pt-20 bg-background dark text-foreground",children:[e.jsx("div",{className:"flex justify-center px-3 lg:px-0",children:e.jsx(N,{src:`${s.sport==="HOCKEY"?"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447091/photos/portada-hockey_v1buvo.png":s.genre==="MASCULINO"?"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447089/photos/portada-fut-masc_pf6pop.jpg":"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447090/photos/portada-fut-fem_hxyaym.jpg"}`,alt:"portada torneo",className:"h-[180px] md:h-[400px] object-cover "})}),e.jsxs("h1",{className:"pt-10 text-3xl font-medium text-center text-white",children:["Torneos de"," ",s.sport==="HOCKEY"?"Hockey":s.genre==="MASCULINO"?"Fútbol Masculino":"Fútbol Femenino"]}),e.jsx("div",{className:"py-10 mx-auto max-w-7xl",children:s.sport==="HOCKEY"||s.genre==="FEMENINO"?e.jsx(Y,{queries:s}):e.jsx(e.Fragment,{children:e.jsxs(I,{"aria-label":"sports options",className:"pl-1",children:[e.jsx(u,{title:"Fútbol 7",children:e.jsx(h,{sport:"F7",title:"Fútbol 7"})},"F7"),e.jsx(u,{title:"Fútbol 11",children:e.jsx(h,{sport:"F11",title:"Fútbol 11"})},"F11")]})})})]})},we=B;export{we as default};
