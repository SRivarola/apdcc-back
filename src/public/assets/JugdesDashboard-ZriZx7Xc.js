import{u as _,j as e,m as y,a as N,i as D,s as w,v as P,r as x}from"./index-ud7WvSZc.js";import{h as v}from"./moment-WSJ9un1t.js";import{I as $}from"./image-geQ6gySL.js";import{m as k,t as Y,a as S,b as E,c as C,d as L,e as O}from"./chunk-YRZGWF2W-zd0TKMqz.js";import{m as M}from"./chunk-EPDLEVDR-0vwhT5A0.js";import{g as F,c as j}from"./chunk-OFH6WYRQ-VrSlWUnV.js";import"./chunk-AMSULWPV-YtnjV3Dt.js";function I({dni:r,dniUrl:a}){const{isOpen:s,onOpen:l,onOpenChange:n}=_();return e.jsxs(e.Fragment,{children:[e.jsxs("p",{onClick:l,className:"flex gap-1 cursor-pointer hover:text-blue-500",children:[e.jsx($,{size:18}),r]}),e.jsx(y,{scrollBehavior:"inside",isOpen:s,onOpenChange:n,className:"border dark text-foreground border-default-400 w-fit",children:e.jsx(N,{children:()=>e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"flex flex-col gap-1"}),e.jsx(M,{className:"flex justify-center",children:e.jsx(D,{src:a,alt:"imagen dni",className:"mx-auto"})})]})})})]})}const T=[{label:"nombre",key:"customName"},{label:"DNI",key:"dni"},{label:"edad",key:"age"}];function b({players:r,name:a}){return console.log(r),e.jsxs("section",{className:"w-full pb-16 mb-10",children:[e.jsxs("p",{className:"pb-4 text-center",children:["Jugadores de ",e.jsx("strong",{children:a})]}),e.jsxs(Y,{"aria-label":"Players Table",children:[e.jsx(S,{columns:T,children:s=>e.jsx(E,{className:"uppercase",children:s.label},s.key)}),e.jsx(C,{emptyContent:r.length===0?"No se encontraron jugadores/as":"",items:r,loadingContent:e.jsx(w,{className:"mt-12",label:"Loading..."}),children:s=>e.jsx(L,{children:l=>e.jsx(O,{className:"capitalize",children:l==="customName"?e.jsx(P,{avatarProps:{radius:"lg",src:s.avatar.url},name:`${s.first_name} ${s.last_name}`,children:`${s.first_name} ${s.last_name}`}):l==="dni"?e.jsx(I,{dni:s.dni,dniUrl:s.dni_photo.url}):F(s,l)})},s._id)})]})]})}function V({localName:r,localId:a,visitName:s,visitId:l,isOpen:n,onOpenChange:c}){const[i,o]=x.useState([]),[d,u]=x.useState([]);return x.useEffect(()=>{const f=localStorage.getItem("apdcc_token");async function m(){try{const t=await fetch(`https://apdcc-back-production.up.railway.app/api/players/all/?team=${a}`,{method:"GET",headers:{token:f}});if(t.ok){const{response:g}=await t.json();o(g)}}catch(t){console.log(t)}}async function p(){try{const t=await fetch(`https://apdcc-back-production.up.railway.app/api/players/all/?team=${l}`,{method:"GET",headers:{token:f}});if(t.ok){const{response:g}=await t.json();u(g)}}catch(t){console.log(t)}}async function h(){try{await Promise.all([m(),p()])}catch(t){console.log(t)}}h()},[a,l,c]),e.jsx(e.Fragment,{children:e.jsx(y,{scrollBehavior:"inside",size:"full",isOpen:n,onOpenChange:c,className:"border dark text-foreground border-default-400",children:e.jsx(N,{children:()=>e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"flex flex-col gap-1"}),e.jsx(M,{children:e.jsxs("div",{className:"flex flex-wrap justify-between w-full gap-10",children:[e.jsx(b,{players:i,name:r}),e.jsx(b,{players:d,name:s})]})})]})})})})}const z=function({match:a}){var c,i,o,d,u,f,m,p,h,t;const{isOpen:s,onOpen:l,onOpenChange:n}=_();return e.jsxs("div",{className:"grid items-center grid-cols-3 col-span-2 gap-2 lg:gap-5 px-5 py-3 text-center transition-transform duration-150 ease-linear border rounded-lg  md:col-span-1 border-default-200 bg-gradient-to-br from-white to-default-200 dark:from-default-50 dark:to-black  relative w-full cursor-pointer",onClick:l,children:[e.jsx("p",{className:"col-start-1 text-sm text-default-400",children:"Local"}),e.jsx("p",{className:"col-start-2 mb-auto text-sm lg:text-base",children:v(a.date).add(1,"days").format("DD-MM-YYYY")}),e.jsxs("div",{className:"flex flex-col items-center col-start-1 row-start-2 min-h-24",children:[e.jsx("p",{className:"text-xs font-semibold uppercase lg:text-sm lg:font-bold",children:((i=(c=a.local)==null?void 0:c.team_id)==null?void 0:i.name)||e.jsx(j,{variant:"flat",color:"warning",children:"fecha libre"})}),(o=a==null?void 0:a.res_local)!=null&&o.toString()?e.jsx("span",{className:"text-xl font-bold lg:text-2xl",children:a.res_local}):null]}),e.jsx("div",{className:"flex flex-col items-center justify-between col-start-2 row-start-2 gap-3 my-auto",children:e.jsx("span",{className:" text-warning",children:"vs"})}),e.jsx("p",{className:"col-start-3 text-sm text-default-400",children:"Visitante"}),e.jsxs("div",{className:"relative flex flex-col items-center col-start-3 row-start-2",children:[e.jsx("p",{className:"text-xs font-bold uppercase lg:text-sm",children:((u=(d=a.visit)==null?void 0:d.team_id)==null?void 0:u.name)||e.jsx(j,{variant:"flat",color:"warning",children:"fecha libre"})}),(f=a==null?void 0:a.res_visit)!=null&&f.toString()?e.jsx("span",{className:"text-xl font-bold lg:text-2xl",children:a.res_visit}):null]}),e.jsx(V,{isOpen:s,onOpenChange:n,localName:(p=(m=a.local)==null?void 0:m.team_id)==null?void 0:p.name,localId:a.local.team_id._id,visitName:(t=(h=a.visit)==null?void 0:h.team_id)==null?void 0:t.name,visitId:a.visit.team_id._id})]})},B=z,G=B;function W(){const[r,a]=x.useState(!0),[s,l]=x.useState([]);return x.useEffect(()=>{const c=v(new Date).format("YYYY-MM-DD");async function i(){try{const o=await fetch(`https://apdcc-back-production.up.railway.app/api/matches/?date=${c}`);if(o.ok){const{response:d}=await o.json();l(d)}}catch(o){console.log(o)}finally{a(!1)}}i()},[]),r?e.jsxs("div",{className:"absolute top-0 left-0 flex flex-col items-center justify-center w-full h-full gap-3",children:[e.jsx(w,{}),"...loading"]}):!s.length&&!r?e.jsx("div",{className:"max-w-5xl mx-auto text-xl font-medium text-center",children:"No hay partidos pendiente para la fecha actual."}):e.jsx("section",{className:"absolute top-0 left-0 w-full pl-5 pb-16 pt-36 lg:pt-20 pr-5 overflow-y-scroll h-screen bg-black",children:e.jsx("div",{className:"max-w-5xl mx-auto space-y-10",children:s.map(n=>e.jsx(G,{match:n},n._id))})})}export{W as default};
