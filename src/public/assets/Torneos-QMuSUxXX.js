import{g as F,a as g,r as n,j as e,b as j,E as y,m as b,d as _,h as T,c as E,s as v}from"./index-lXOmDP6w.js";import{T as C,F as z}from"./Fixture-kHbjSYgI.js";import{m as w}from"./chunk-EPDLEVDR-TQNk4sxC.js";import{m as O}from"./chunk-3S23ARPO-ryOpIJPU.js";import{m as M}from"./chunk-QY5NICTW-ovTp3JBp.js";import{p as $}from"./chunk-BIN3WWJN-WqJ-Fef9.js";import{t as S,a as P,b as A,c as L,d as H,e as I}from"./chunk-YRZGWF2W-EObZiTdO.js";import{g as R}from"./chunk-KARN4QIT-OGEJsESW.js";import"./chunk-MA2FG3JE-o2XtNfQ5.js";import"./chunk-AMSULWPV-IlFtwMun.js";import"./pen-square-6k3zlNXr.js";import"./ballIcon-tx4COS0f.js";import"./chunk-K3TANQWH-Tuu1L52K.js";import"./chunk-ZFWMN6TD-RpwwUzhZ.js";import"./chunk-7F3ZLNJ6-x3RrD4ps.js";import"./chunk-OFH6WYRQ-A7-VtUyN.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function Y({name:f,id:p,placement:l}){const{isOpen:r,onOpen:i,onOpenChange:c}=g(),[a,u]=n.useState(null);return n.useEffect(()=>{(async()=>{try{const s=await fetch(`https://apdcc-back-production.up.railway.app/api/matches/tournament/${p}`,{method:"GET",credentials:"include"});if(s.ok){const{matchsresults:d}=await s.json();u(d)}}catch{throw new Error}})()},[p]),e.jsxs(e.Fragment,{children:[e.jsx(j,{onPress:i,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(y,{size:16})}),e.jsx(b,{scrollBehavior:"inside",placement:l,size:"3xl",isOpen:r,onOpenChange:c,className:"w-full border dark text-foreground border-default-400",children:e.jsx(_,{children:()=>e.jsx(w,{className:"px-0",children:e.jsx(C,{targets:a})})})})]})}function B({name:f,id:p,placement:l}){const[r,i]=n.useState([]);n.useEffect(()=>{(async()=>{try{const s=await fetch(`https://apdcc-back-production.up.railway.app/api/matches/?tournament_id=${p}`);if(!s.ok){console.log("Algo salio mal en el fetch");return}const{response:d}=await s.json();i(d)}catch(s){console.log(s)}})()},[p]);const{isOpen:c,onOpen:a,onOpenChange:u}=g();return e.jsxs(e.Fragment,{children:[e.jsx(j,{onPress:a,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(y,{size:16})}),e.jsx(b,{placement:l,scrollBehavior:"inside",size:"4xl",isOpen:c,onOpenChange:u,className:"w-full border dark text-foreground border-default-400",children:e.jsx(_,{children:()=>e.jsxs(e.Fragment,{children:[e.jsxs(O,{className:"flex flex-col gap-1",children:["Fixture de ",f]}),e.jsx(w,{children:r.length?e.jsx(z,{matches:r}):e.jsxs("div",{className:"flex items-start gap-2 text-warning",children:[e.jsx(W,{size:20}),"No hay fechas disponibles en este momento."]})}),e.jsx(M,{})]})})})]})}const U=[{label:"Categoría",key:"category"},{label:"Torneos",key:"tournament"},{label:"Fixture",key:"fixture"},{label:"Posiciones",key:"positions"}],D=function(){const l=T().pathname,r=l.startsWith("/hockey"),i=l.startsWith("/futbol/masculino"),c=l.startsWith("/futbol/femenino"),[a,u]=n.useState([]),[h,s]=n.useState(1),[d,x]=n.useState(!0);return n.useEffect(()=>{(async()=>{try{const o=await fetch(`https://apdcc-back-production.up.railway.app/api/tournaments?page=${h}`);if(o.ok){const{response:k}=await o.json(),N=k.docs.filter(m=>r?m.sport==="HOCKEY":i?m.sport!=="HOCKEY"&&m.genre==="MASCULINO":c?m.sport!=="HOCKEY"&&m.genre==="FEMENINO":!1);u(N)}}catch(o){throw new Error(o)}finally{x(!1)}})()},[h,r,i,c]),n.useEffect(()=>{window.scrollTo(0,0)},[l]),e.jsxs("section",{className:"z-10 min-h-screen pt-20 bg-background dark text-foreground",children:[e.jsx("div",{className:"flex justify-center px-3 lg:px-0",children:e.jsx(E,{src:`${r?"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447091/photos/portada-hockey_v1buvo.png":i?"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447089/photos/portada-fut-masc_pf6pop.jpg":"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447090/photos/portada-fut-fem_hxyaym.jpg"}`,alt:"portada torneo",className:"h-[180px] md:h-[400px] object-cover "})}),e.jsxs("h1",{className:"pt-10 text-3xl font-medium text-center text-white",children:["Torneos de"," ",r?"Hockey":c?"Fútbol Femenino":"Fútbol Masculino"]}),e.jsx("div",{className:"py-10 mx-auto max-w-7xl",children:e.jsxs(S,{isStriped:!0,"aria-label":"Users Table",className:"shadow-lg shadow-white/10",bottomContent:a.page>0?e.jsx("div",{className:`${a.docs?"opacity-100":"opacity-0"} flex items-center justify-center w-full gap-4`,children:e.jsx($,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:a.page,total:a.totalPages,onChange:t=>{x(!0),s(t)}})}):null,children:[e.jsx(P,{columns:U,children:t=>e.jsx(A,{className:"uppercase",children:t.label},t.key)}),e.jsx(L,{emptyContent:d?" ":a.length===0?"No se encontraron torneos":"",items:d?[]:a,isLoading:d,loadingContent:e.jsx(v,{label:"Loading..."}),children:t=>e.jsx(H,{children:o=>e.jsx(I,{className:"capitalize",children:o==="category"?e.jsx("p",{children:t.category_id.name}):o==="tournament"?e.jsx("p",{children:t.name}):o==="fixture"?e.jsx(B,{placement:"center",name:t.name,id:t._id}):o==="positions"?e.jsx(Y,{placement:"center",name:t.name,id:t._id}):R(t,o)})},t._id)})]})})]})},ie=D;export{ie as default};
