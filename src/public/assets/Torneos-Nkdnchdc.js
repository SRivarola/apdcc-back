import{f as T,a as f,r as n,j as e,b as x,m as g,c as j,s as w,g as F,i as N}from"./index-DCjOH8AU.js";import{F as E,T as k}from"./TournamentTable-lWvxmXBX.js";import{E as b}from"./external-link-lmKs2pYj.js";import{m as C}from"./chunk-3S23ARPO-Tg7NdpUe.js";import{m as y}from"./chunk-EPDLEVDR-vrYZ5IBb.js";import{m as O}from"./chunk-QY5NICTW-zhjauiDs.js";import{p as v}from"./chunk-BIN3WWJN-oU8JFqev.js";import{t as S,a as z,b as M,c as $,d as A,e as P}from"./chunk-YRZGWF2W-TeM7OBhX.js";import{g as L}from"./chunk-KARN4QIT-jqAEh8Pt.js";import{t as I,a as u}from"./chunk-FXLYF44B-rODYXmqP.js";import"./chunk-MA2FG3JE-CFCObeF4.js";import"./chunk-AMSULWPV-4Weq8d1d.js";import"./import-TOm_-0HU.js";import"./pen-square-hQ7DAQoL.js";import"./chunk-TC4QW7OA-rw8c2GU3.js";import"./import-SooKWkA1.js";import"./chunk-M3MASYO7-A7fsmqpY.js";import"./ballIcon-Uje6UbTl.js";import"./chunk-K3TANQWH-Nl3m3rL9.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./chunk-ZFWMN6TD-l4ena-VX.js";import"./import-qh9-411s.js";import"./chunk-7F3ZLNJ6-QlHTBwmP.js";import"./react-pdf.browser-HpCadHQI.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./PDFFix-RpoBTlo5.js";import"./LOGO-NEGRO-HORIZONTAL-msT39if3.js";import"./chunk-OFH6WYRQ-wi74Uf4b.js";import"./index-taukuCH3.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=T("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function G({name:a,id:s,placement:l}){const{isOpen:t,onOpen:o,onOpenChange:m}=f(),[c,i]=n.useState([]);return n.useEffect(()=>{(async()=>{try{const r=await fetch(`https://apdcc.com.ar/api/matches/?tournament_id=${s}`);if(!r.ok){console.log("Algo salio mal en el fetch");return}const{response:p}=await r.json();i(p)}catch(r){console.log(r)}})()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(x,{onPress:o,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(b,{size:16})}),e.jsx(g,{placement:l,scrollBehavior:"inside",size:"5xl",isOpen:t,onOpenChange:m,className:"w-full border dark text-foreground border-default-400",children:e.jsx(j,{children:()=>e.jsxs(e.Fragment,{children:[e.jsxs(C,{className:"flex flex-col gap-1",children:["Fixture de ",a]}),e.jsx(y,{children:c.length?e.jsx(E,{matches:c}):e.jsxs("div",{className:"flex items-start gap-2 text-warning",children:[e.jsx(H,{size:20}),"No hay fechas disponibles en este momento."]})}),e.jsx(O,{})]})})})]})}function R({name:a,id:s,placement:l}){const{isOpen:t,onOpen:o,onOpenChange:m}=f(),[c,i]=n.useState(null);return n.useEffect(()=>{(async()=>{try{const r=await fetch(`https://apdcc.com.ar/api/matches/tournament/${s}`,{method:"GET",credentials:"include"});if(r.ok){const{matchsresults:p}=await r.json();i(p)}}catch{throw new Error}})()},[s]),e.jsxs(e.Fragment,{children:[e.jsx(x,{onPress:o,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(b,{size:16})}),e.jsx(g,{scrollBehavior:"inside",placement:l,size:"3xl",isOpen:t,onOpenChange:m,className:"w-full border dark text-foreground border-default-400",children:e.jsx(j,{children:()=>e.jsx(y,{className:"px-0",children:e.jsx(k,{targets:c})})})})]})}const U=[{label:"Categoría",key:"category"},{label:"Torneos",key:"tournament"},{label:"Fixture",key:"fixture"},{label:"Posiciones",key:"positions"}];function _({data:a,isFetching:s,setCurrentPage:l}){return e.jsxs(S,{isStriped:!0,"aria-label":"Tournament Table",className:"shadow-lg shadow-white/10 rounded-xl",bottomContent:a.page>0?e.jsx("div",{className:`${a.docs?"opacity-100":"opacity-0"} flex items-center justify-center w-full gap-4`,children:e.jsx(v,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:a.page,total:a.totalPages,onChange:t=>{l(t)}})}):null,children:[e.jsx(z,{columns:U,children:t=>e.jsx(M,{className:"uppercase",children:t.label},t.key)}),e.jsx($,{emptyContent:s?" ":a.docs.length===0?"No se encontraron torneos":"",items:s?[]:a.docs,isLoading:s,loadingContent:e.jsx(w,{label:"Loading..."}),children:t=>e.jsx(A,{children:o=>e.jsx(P,{className:"capitalize",children:o==="category"?e.jsx("p",{children:t.category_id.name}):o==="tournament"?e.jsx("p",{children:t.name}):o==="fixture"?e.jsx(G,{placement:"center",name:t.name,id:t._id}):o==="positions"?e.jsx(R,{placement:"center",name:t.name,id:t._id}):L(t,o)})},t._id)})]})}const Y=({queries:a})=>{const[s,l]=n.useState(null),[t,o]=n.useState(1),[m,c]=n.useState(!0),i=async()=>{try{c(!0);const r=await(await fetch(`https://apdcc.com.ar/api/tournaments?page=${t}`,{method:"GET",headers:{queries:JSON.stringify(a)}})).json();l(r.response)}catch(d){throw new Error(d)}finally{c(!1)}};return n.useEffect(()=>{i()},[t,a]),e.jsx(e.Fragment,{children:s?e.jsx(_,{data:s,isFetching:m,setCurrentPage:o}):null})},h=({sport:a,title:s})=>{const[l,t]=n.useState(null),[o,m]=n.useState(1),[c,i]=n.useState(!0),d=async()=>{try{i(!0);const p=await(await fetch(`https://apdcc.com.ar/api/tournaments?page=${o}`,{method:"GET",headers:{queries:JSON.stringify({sport:a,genre:"MASCULINO"})}})).json();t(p.response)}catch(r){throw new Error(r)}finally{i(!1)}};return n.useEffect(()=>{d()},[o,a]),e.jsx(e.Fragment,{children:l?e.jsx(_,{data:l,isFetching:c,setCurrentPage:m}):null})},B=function({queries:s}){const t=F().pathname;return n.useEffect(()=>{window.scrollTo(0,0)},[t]),e.jsxs("section",{className:"z-10 min-h-screen pt-20 bg-background dark text-foreground",children:[e.jsx("div",{className:"flex justify-center px-3 lg:px-0",children:e.jsx(N,{src:`${s.sport==="HOCKEY"?"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447091/photos/portada-hockey_v1buvo.png":s.genre==="MASCULINO"?"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447089/photos/portada-fut-masc_pf6pop.jpg":"https://res.cloudinary.com/dfnimrpzt/image/upload/v1705447090/photos/portada-fut-fem_hxyaym.jpg"}`,alt:"portada torneo",className:"h-[180px] md:h-[400px] object-cover "})}),e.jsxs("h1",{className:"pt-10 text-3xl font-medium text-center text-white",children:["Torneos de"," ",s.sport==="HOCKEY"?"Hockey":s.genre==="MASCULINO"?"Fútbol Masculino":"Fútbol Femenino"]}),e.jsx("div",{className:"py-10 mx-auto max-w-7xl",children:s.sport==="HOCKEY"||s.genre==="FEMENINO"?e.jsx(Y,{queries:s}):e.jsx(e.Fragment,{children:e.jsxs(I,{"aria-label":"sports options",className:"pl-1",children:[e.jsx(u,{title:"Fútbol 7",children:e.jsx(h,{sport:"F7",title:"Fútbol 7"})},"F7"),e.jsx(u,{title:"Fútbol 11",children:e.jsx(h,{sport:"F11",title:"Fútbol 11"})},"F11")]})})})]})},ye=B;export{ye as default};
