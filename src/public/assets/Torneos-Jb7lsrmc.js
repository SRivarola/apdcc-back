import{O as N,S as f,j as e,P as g,U as j,V as b,r as c,a3 as F,ab as C,Y as O}from"./index-ABVDHvCt.js";import{E as y,C as E,m as M,F as T,a as v,u as z,t as S,p as P,b as L,d as A,e as $,f as H,g as I,h as Y}from"./Container-qCBT7_h8.js";import{m as _}from"./chunk-ZFWMN6TD-YlsTp8XP.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=N("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function W({name:h,id:n,placement:r}){const{isOpen:o,onOpen:i,onOpenChange:t}=f();return e.jsxs(e.Fragment,{children:[e.jsx(g,{onPress:i,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(y,{size:16})}),e.jsx(j,{scrollBehavior:"inside",placement:r,size:"3xl",isOpen:o,onOpenChange:t,className:"w-full border dark text-foreground border-default-400",children:e.jsx(b,{children:()=>e.jsx(_,{children:e.jsx(E,{id:n,isClient:!0})})})})]})}function B({name:h,id:n,placement:r}){const[o,i]=c.useState([]);c.useEffect(()=>{(async()=>{try{const l=await fetch(`https://apdcc-back-production.up.railway.app/api/matches/?tournament_id=${n}`);if(!l.ok){console.log("Algo salio mal en el fetch");return}const{response:p}=await l.json();i(p)}catch(l){console.log(l)}})()},[n]);const{isOpen:t,onOpen:m,onOpenChange:u}=f();return e.jsxs(e.Fragment,{children:[e.jsx(g,{onPress:m,variant:"faded",color:"primary",size:"sm",radius:"sm",isIconOnly:!0,children:e.jsx(y,{size:16})}),e.jsx(j,{placement:r,scrollBehavior:"inside",size:"4xl",isOpen:t,onOpenChange:u,className:"w-full border dark text-foreground border-default-400",children:e.jsx(b,{children:()=>e.jsxs(e.Fragment,{children:[e.jsxs(M,{className:"flex flex-col gap-1",children:["Fixture de ",h]}),e.jsx(_,{children:o.length?e.jsx(T,{matches:o}):e.jsxs("div",{className:"flex items-start gap-2 text-warning",children:[e.jsx(U,{size:20}),"No hay fechas disponibles en este momento."]})}),e.jsx(v,{})]})})})]})}const V=[{label:"Categoría",key:"category"},{label:"Torneos",key:"tournament"},{label:"Fixture",key:"fixture"},{label:"Posiciones",key:"positions"}];function q(){const n=F().pathname,r=n.startsWith("/hockey"),o=n.startsWith("/futbol/masculino"),i=n.startsWith("/futbol/femenino"),[t,m]=c.useState([]),[u,x]=c.useState(1);z();const[l,p]=c.useState(!0);return c.useEffect(()=>{(async()=>{try{const s=await fetch(`https://apdcc-back-production.up.railway.app/api/tournaments?page=${u}`);if(s.ok){const{response:w}=await s.json(),k=w.docs.filter(d=>r?d.sport==="HOCKEY":o?d.sport!=="HOCKEY"&&d.genre==="MASCULINO":i?d.sport!=="HOCKEY"&&d.genre==="FEMENINO":!1);m(k)}}catch(s){throw new Error(s)}finally{p(!1)}})()},[u,r,o,i]),c.useEffect(()=>{window.scrollTo(0,0)},[n]),e.jsxs("section",{className:"min-h-screen pt-20 bg-background dark text-foreground",children:[e.jsx("div",{className:"flex justify-center px-3 lg:px-0",children:e.jsx(C,{src:`${r?"/portada-hockey.png":o?"/portada-fut-masc.jpg":"/portada-fut-fem.jpg"}`,alt:"portada torneo",className:"h-[180px] md:h-[400px] object-cover "})}),e.jsxs("h1",{className:"pt-10 text-3xl font-medium text-center text-white",children:["Torneos de ",r?"Hockey":i?"Fútbol Femenino":"Fútbol Masculino"]}),e.jsx("h2",{className:"font-medium text-center text-warning",children:"Lorem ipsum dolor sit amet."}),e.jsx("div",{className:"py-10 mx-auto max-w-7xl",children:e.jsxs(S,{isStriped:!0,"aria-label":"Users Table",className:"shadow-lg shadow-white/10",bottomContent:t.page>0?e.jsx("div",{className:`${t.docs?"opacity-100":"opacity-0"} flex items-center justify-center w-full gap-4`,children:e.jsx(P,{isCompact:!0,showControls:!0,showShadow:!0,color:"primary",page:t.page,total:t.totalPages,onChange:a=>{p(!0),x(a)}})}):null,children:[e.jsx(L,{columns:V,children:a=>e.jsx(A,{className:"uppercase",children:a.label},a.key)}),e.jsx($,{emptyContent:l?" ":t.length===0?"No se encontraron torneos":"",items:l?[]:t,isLoading:l,loadingContent:e.jsx(O,{label:"Loading..."}),children:a=>e.jsx(H,{children:s=>e.jsx(I,{className:"capitalize",children:s==="category"?e.jsx("p",{children:a.category_id.name}):s==="tournament"?e.jsx("p",{children:a.name}):s==="fixture"?e.jsx(B,{placement:"top",name:a.name,id:a._id}):s==="positions"?e.jsx(W,{placement:"center",name:a.name,id:a._id}):Y(a,s)})},a._id)})]})})]})}export{q as default};
