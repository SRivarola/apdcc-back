import{bb as ue,r,k as pe,B as J,l as C,v as fe,a1 as be,a2 as $e,bc as me,aM as ve,G as he,bd as W,be as Te,bf as xe,bg as ge,bh as Pe,C as R,bi as q,z as ye,bj as Oe,w as Ce,j as p,E as we,aq as De,at as Re,bk as G,aS as Ee}from"./index-uGAMUMvn.js";import{w as je}from"./chunk-RFUEKIFS-kjMkjToG.js";const Ae=1500,Y=500;let y={},Ie=0,A=!1,T=null,O=null;function Ne(e={}){let{delay:t=Ae,closeDelay:s=Y}=e,{isOpen:i,open:m,close:f}=ue(e),l=r.useMemo(()=>`${++Ie}`,[]),o=r.useRef(),v=()=>{y[l]=x},c=()=>{for(let a in y)a!==l&&(y[a](!0),delete y[a])},n=()=>{clearTimeout(o.current),o.current=null,c(),v(),A=!0,m(),T&&(clearTimeout(T),T=null),O&&(clearTimeout(O),O=null)},x=a=>{a||s<=0?(clearTimeout(o.current),o.current=null,f()):o.current||(o.current=setTimeout(()=>{o.current=null,f()},s)),T&&(clearTimeout(T),T=null),A&&(O&&clearTimeout(O),O=setTimeout(()=>{delete y[l],O=null,A=!1},Math.max(Y,s)))},g=()=>{c(),v(),!i&&!T&&!A?T=setTimeout(()=>{T=null,A=!0,n()},t):i||n()};return r.useEffect(()=>()=>{clearTimeout(o.current),y[l]&&delete y[l]},[l]),{isOpen:i,open:a=>{!a&&t>0&&!o.current?g():n()},close:x}}function Se(e,t){let s=pe(e,{labelable:!0}),{hoverProps:i}=J({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:C(s,i,{role:"tooltip"})}}function ke(e,t,s){let{isDisabled:i,trigger:m}=e,f=fe(),l=r.useRef(!1),o=r.useRef(!1),v=()=>{(l.current||o.current)&&t.open(o.current)},c=b=>{!l.current&&!o.current&&t.close(b)};r.useEffect(()=>{let b=h=>{s&&s.current&&h.key==="Escape"&&(h.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",b,!0),()=>{document.removeEventListener("keydown",b,!0)}},[s,t]);let n=()=>{m!=="focus"&&(me()==="pointer"?l.current=!0:l.current=!1,v())},x=()=>{m!=="focus"&&(o.current=!1,l.current=!1,c())},g=()=>{o.current=!1,l.current=!1,c(!0)},a=()=>{ve()&&(o.current=!0,v())},d=()=>{o.current=!1,l.current=!1,c(!0)},{hoverProps:w}=J({isDisabled:i,onHoverStart:n,onHoverEnd:x}),{pressProps:D}=be({onPressStart:g}),{focusableProps:u}=$e({isDisabled:i,onFocus:a,onBlur:d},s);return{triggerProps:{"aria-describedby":t.isOpen?f:void 0,...C(u,w,D)},tooltipProps:{id:f}}}function He(e){const[t,s]=he(e,W.variantKeys),{ref:i,as:m,isOpen:f,content:l,children:o,defaultOpen:v,onOpenChange:c,isDisabled:n,trigger:x,shouldFlip:g=!0,containerPadding:a=12,placement:d="top",delay:w=0,closeDelay:D=500,showArrow:u=!1,offset:b=7,crossOffset:h=0,isDismissable:X,shouldCloseOnBlur:Z=!0,portalContainer:ee,isKeyboardDismissDisabled:te=!1,updatePositionDeps:F=[],shouldCloseOnInteractOutside:oe,className:le,onClose:M,motionProps:re,classNames:E,..._}=t,se=m||"div",j=Ne({delay:w,closeDelay:D,isDisabled:n,defaultOpen:v,isOpen:f,onOpenChange:P=>{c==null||c(P),P||M==null||M()}}),I=r.useRef(null),N=r.useRef(null),S=r.useId(),$=j.isOpen&&!n;r.useImperativeHandle(i,()=>Te(N));const{triggerProps:z,tooltipProps:ne}=ke({isDisabled:n,trigger:x},j,I),{tooltipProps:B}=Se({isOpen:$,...C(t,ne)},j),{overlayProps:V,placement:k,updatePosition:ae}=xe({isOpen:$,targetRef:I,placement:Oe(d),overlayRef:N,offset:u?b+3:b,crossOffset:h,shouldFlip:g,containerPadding:a});r.useLayoutEffect(()=>{F.length&&ae()},F);const{overlayProps:K}=ge({isOpen:$,onClose:j.close,isDismissable:X,shouldCloseOnBlur:Z,isKeyboardDismissDisabled:te,shouldCloseOnInteractOutside:oe},N),H=r.useMemo(()=>{var P,L,U;return W({...s,radius:(P=e==null?void 0:e.radius)!=null?P:"md",size:(L=e==null?void 0:e.size)!=null?L:"md",shadow:(U=e==null?void 0:e.shadow)!=null?U:"sm"})},[...Object.values(s),e==null?void 0:e.radius,e==null?void 0:e.size,e==null?void 0:e.shadow]),ie=r.useCallback((P={},L=null)=>({...C(z,P),ref:Pe(L,I),"aria-describedby":$?S:void 0}),[z,$,S,j]),ce=r.useCallback(()=>({ref:N,"data-slot":"base","data-open":R($),"data-arrow":R(u),"data-disabled":R(n),"data-placement":q(k,d),...C(B,K,_),style:C(V.style,_.style,t.style),className:H.base({class:E==null?void 0:E.base}),id:S}),[H,$,u,n,k,d,B,K,_,V,t,S]),de=r.useCallback(()=>({"data-slot":"content","data-open":R($),"data-arrow":R(u),"data-disabled":R(n),"data-placement":q(k,d),className:H.content({class:ye(E==null?void 0:E.content,le)})}),[H,$,u,n,k,d,E]);return{Component:se,content:l,children:o,isOpen:$,triggerRef:I,showArrow:u,portalContainer:ee,placement:d,disableAnimation:e==null?void 0:e.disableAnimation,isDisabled:n,motionProps:re,getTooltipContentProps:de,getTriggerProps:ie,getTooltipProps:ce}}var Q=Ce((e,t)=>{const{Component:s,children:i,content:m,isOpen:f,portalContainer:l,placement:o,disableAnimation:v,motionProps:c,getTriggerProps:n,getTooltipProps:x,getTooltipContentProps:g}=He({...e,ref:t});let a;try{const h=r.Children.only(i);a=r.cloneElement(h,n(h.props,h.ref))}catch{a=p.jsx("span",{}),je("Tooltip must have only one child node. Please, check your code.")}const{ref:d,id:w,style:D,...u}=x(),b=p.jsx("div",{ref:d,id:w,style:D,children:p.jsx(we.div,{animate:"enter",exit:"exit",initial:"exit",variants:De.scaleSpring,...C(c,u),style:{...Re(o)},children:p.jsx(s,{...g(),children:m})})});return p.jsxs(p.Fragment,{children:[a,v&&f?p.jsx(G,{portalContainer:l,children:p.jsx("div",{ref:d,id:w,style:D,...u,children:p.jsx(s,{...g(),children:m})})}):p.jsx(Ee,{children:f?p.jsx(G,{portalContainer:l,children:b}):null})]})});Q.displayName="NextUI.Tooltip";var Fe=Q;export{Fe as t};
