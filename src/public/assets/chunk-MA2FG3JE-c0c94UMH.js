import{$ as ue,r as l,P as pe,Q as Z,R as C,V as fe,W as be,X as $e,Y as me,Z as ve,_ as he,a0 as U,a1 as Te,a2 as xe,a3 as Pe,a4 as ge,a5 as D,a6 as Y,a7 as ye,a8 as Oe,a9 as Ce,j as p,aa as we,ab as Re,ac as De,ad as Q,ae as Ee}from"./index-MhLOxObv.js";import{w as je}from"./chunk-AMSULWPV-sIxkKD7l.js";const Ae=1500,X=500;let y={},Ie=0,A=!1,T=null,O=null;function Ne(e={}){let{delay:t=Ae,closeDelay:s=X}=e,{isOpen:i,open:m,close:f}=ue(e),r=l.useMemo(()=>`${++Ie}`,[]),o=l.useRef(),v=()=>{y[r]=x},c=()=>{for(let n in y)n!==r&&(y[n](!0),delete y[n])},a=()=>{clearTimeout(o.current),o.current=null,c(),v(),A=!0,m(),T&&(clearTimeout(T),T=null),O&&(clearTimeout(O),O=null)},x=n=>{n||s<=0?(clearTimeout(o.current),o.current=null,f()):o.current||(o.current=setTimeout(()=>{o.current=null,f()},s)),T&&(clearTimeout(T),T=null),A&&(O&&clearTimeout(O),O=setTimeout(()=>{delete y[r],O=null,A=!1},Math.max(X,s)))},P=()=>{c(),v(),!i&&!T&&!A?T=setTimeout(()=>{T=null,A=!0,a()},t):i||a()};return l.useEffect(()=>()=>{clearTimeout(o.current),y[r]&&delete y[r]},[r]),{isOpen:i,open:n=>{!n&&t>0&&!o.current?P():a()},close:x}}function He(e,t){let s=pe(e,{labelable:!0}),{hoverProps:i}=Z({onHoverStart:()=>t==null?void 0:t.open(!0),onHoverEnd:()=>t==null?void 0:t.close()});return{tooltipProps:C(s,i,{role:"tooltip"})}}function Se(e,t,s){let{isDisabled:i,trigger:m}=e,f=fe(),r=l.useRef(!1),o=l.useRef(!1),v=()=>{(r.current||o.current)&&t.open(o.current)},c=b=>{!r.current&&!o.current&&t.close(b)};l.useEffect(()=>{let b=h=>{s&&s.current&&h.key==="Escape"&&(h.stopPropagation(),t.close(!0))};if(t.isOpen)return document.addEventListener("keydown",b,!0),()=>{document.removeEventListener("keydown",b,!0)}},[s,t]);let a=()=>{m!=="focus"&&(me()==="pointer"?r.current=!0:r.current=!1,v())},x=()=>{m!=="focus"&&(o.current=!1,r.current=!1,c())},P=()=>{o.current=!1,r.current=!1,c(!0)},n=()=>{ve()&&(o.current=!0,v())},d=()=>{o.current=!1,r.current=!1,c(!0)},{hoverProps:w}=Z({isDisabled:i,onHoverStart:a,onHoverEnd:x}),{pressProps:R}=be({onPressStart:P}),{focusableProps:u}=$e({isDisabled:i,onFocus:n,onBlur:d},s);return{triggerProps:{"aria-describedby":t.isOpen?f:void 0,...C(u,w,R)},tooltipProps:{id:f}}}function _e(e){const[t,s]=he(e,U.variantKeys),{ref:i,as:m,isOpen:f,content:r,children:o,defaultOpen:v,onOpenChange:c,isDisabled:a,trigger:x,shouldFlip:P=!0,containerPadding:n=12,placement:d="top",delay:w=0,closeDelay:R=500,showArrow:u=!1,offset:b=7,crossOffset:h=0,isDismissable:G,shouldCloseOnBlur:J=!0,portalContainer:ee,isKeyboardDismissDisabled:te=!1,updatePositionDeps:F=[],shouldCloseOnInteractOutside:oe,className:re,onClose:V,motionProps:le,classNames:E,...L}=t,se=m||"div",j=Ne({delay:w,closeDelay:R,isDisabled:a,defaultOpen:v,isOpen:f,onOpenChange:g=>{c==null||c(g),g||V==null||V()}}),I=l.useRef(null),N=l.useRef(null),H=l.useId(),$=j.isOpen&&!a;l.useImperativeHandle(i,()=>Te(N));const{triggerProps:M,tooltipProps:ae}=Se({isDisabled:a,trigger:x},j,I),{tooltipProps:W}=He({isOpen:$,...C(t,ae)},j),{overlayProps:z,placement:S,updatePosition:ne}=xe({isOpen:$,targetRef:I,placement:Oe(d),overlayRef:N,offset:u?b+3:b,crossOffset:h,shouldFlip:P,containerPadding:n});l.useLayoutEffect(()=>{F.length&&ne()},F);const{overlayProps:B}=Pe({isOpen:$,onClose:j.close,isDismissable:G,shouldCloseOnBlur:J,isKeyboardDismissDisabled:te,shouldCloseOnInteractOutside:oe},N),_=l.useMemo(()=>{var g,k,K;return U({...s,radius:(g=e==null?void 0:e.radius)!=null?g:"md",size:(k=e==null?void 0:e.size)!=null?k:"md",shadow:(K=e==null?void 0:e.shadow)!=null?K:"sm"})},[...Object.values(s),e==null?void 0:e.radius,e==null?void 0:e.size,e==null?void 0:e.shadow]),ie=l.useCallback((g={},k=null)=>({...C(M,g),ref:ge(k,I),"aria-describedby":$?H:void 0}),[M,$,H,j]),ce=l.useCallback(()=>({ref:N,"data-slot":"base","data-open":D($),"data-arrow":D(u),"data-disabled":D(a),"data-placement":Y(S,d),...C(W,B,L),style:C(z.style,L.style,t.style),className:_.base({class:E==null?void 0:E.base}),id:H}),[_,$,u,a,S,d,W,B,L,z,t,H]),de=l.useCallback(()=>({"data-slot":"content","data-open":D($),"data-arrow":D(u),"data-disabled":D(a),"data-placement":Y(S,d),className:_.content({class:ye(E==null?void 0:E.content,re)})}),[_,$,u,a,S,d,E]);return{Component:se,content:r,children:o,isOpen:$,triggerRef:I,showArrow:u,portalContainer:ee,placement:d,disableAnimation:e==null?void 0:e.disableAnimation,isDisabled:a,motionProps:le,getTooltipContentProps:de,getTriggerProps:ie,getTooltipProps:ce}}var q=Ce((e,t)=>{const{Component:s,children:i,content:m,isOpen:f,portalContainer:r,placement:o,disableAnimation:v,motionProps:c,getTriggerProps:a,getTooltipProps:x,getTooltipContentProps:P}=_e({...e,ref:t});let n;try{const h=l.Children.only(i);n=l.cloneElement(h,a(h.props,h.ref))}catch{n=p.jsx("span",{}),je("Tooltip must have only one child node. Please, check your code.")}const{ref:d,id:w,style:R,...u}=x(),b=p.jsx("div",{ref:d,id:w,style:R,children:p.jsx(we.div,{animate:"enter",exit:"exit",initial:"exit",variants:Re.scaleSpring,...C(c,u),style:{...De(o)},children:p.jsx(s,{...P(),children:m})})});return p.jsxs(p.Fragment,{children:[n,v&&f?p.jsx(Q,{portalContainer:r,children:p.jsx("div",{ref:d,id:w,style:R,...u,children:p.jsx(s,{...P(),children:m})})}):p.jsx(Ee,{children:f?p.jsx(Q,{portalContainer:r,children:b}):null})]})});q.displayName="NextUI.Tooltip";var Fe=q;export{Fe as t};
