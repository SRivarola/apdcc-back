import{q as w,f as T,r as i,j as t,s as k,B as N,C as E,D as I}from"./index-r9Kg18oU.js";import{F as B}from"./Fixture-dcthwelF.js";import{t as P,a as q,b as v,c as A,d as S,e as $}from"./chunk-YRZGWF2W-w1NnX_tl.js";import{g as C}from"./chunk-KARN4QIT-bcCKJh4V.js";import"./moment-WSJ9un1t.js";import"./pen-square-ASzmK7IU.js";import"./chunk-3S23ARPO-TZsoprM1.js";import"./chunk-EPDLEVDR-KpDQe4Fi.js";import"./chunk-QY5NICTW-NSOp6BpZ.js";import"./chunk-TC4QW7OA-dCyx9Nqh.js";import"./import-Lz4LCkko.js";import"./import-E5yE7O2C.js";import"./chunk-M3MASYO7-T0v4DvfD.js";import"./chunk-K3TANQWH-LbGmkiCb.js";import"./chunk-ZFWMN6TD-E1DsTsm7.js";import"./chunk-7F3ZLNJ6-dNGPNpAD.js";import"./chunk-OFH6WYRQ-KI7hjY2J.js";import"./chunk-AMSULWPV-CTsAqdhD.js";const se=()=>{const{id:c}=w(),{refresh:p,isHiddenTopBar:f}=T(),x=[{label:"Equipo",key:"team_id"},{label:"PJ",key:"played_matches"},{label:"PG",key:"wins"},{label:"PP",key:"losses"},{label:"PE",key:"ties"},{label:"ðŸŸ¨",key:"yellow_card"},{label:"ðŸŸ¥",key:"red_card"},{label:"Pts",key:"points"}],[m,h]=i.useState(!0),[u,y]=i.useState([]),[e,_]=i.useState(null),[g,b]=i.useState([]);return i.useEffect(()=>{(async()=>{const l=await N(c);if(l.ok){const{response:a}=await l.json();_({category:a.category_id.name,day:a.day,name:a.name,sport:a.sport,time:a.time,teams_quantity:a.teams_quantity,createdAt:a.createdAt,updatedAt:a.updatedAt})}})()},[c,p]),i.useEffect(()=>{(async()=>{const l=await E(c);if(!l.ok){console.log("Algo salio mal en el fetch");return}const{response:a}=await l.json();b(a)})()},[c,p]),i.useEffect(()=>{(async()=>{const l=await I(c);if(l.ok){const{response:a}=await l.json(),j=Object.values(a.reduce((r,s)=>{const n=s.team_id._id;return r[n]||(r[n]=[]),r[n].push(s),r},{})).map(r=>r.reduce((s,n)=>(Object.keys(n).forEach(d=>{typeof n[d]=="number"&&(s[d]=(s[d]||0)+n[d])}),s.team_id=n.team_id,s),{})).sort((r,s)=>s.points!==r.points?s.points-r.points:r.red_card!==s.red_card?r.red_card-s.red_card:r.yellow_card-s.yellow_card);y(j)}h(!1)})()},[c,p]),t.jsxs("section",{className:`${f?"pt-12":"pt-36"} absolute top-0 left-0 w-full pl-5 lg:pl-[200px] pb-16  lg:pt-20 pr-5 overflow-y-scroll h-screen bg-black`,children:[e?t.jsxs("div",{className:"flex flex-col gap-1",children:[t.jsxs("div",{className:"lg:px-3 mb-6 text-center",children:[t.jsx("h1",{className:"text-xl lg:text-3xl font-bold uppercase",children:e==null?void 0:e.name}),t.jsx("span",{className:"font-semibold uppercase text-default-400",children:`${e==null?void 0:e.sport} (${e==null?void 0:e.category}) / ${e.day} ${e==null?void 0:e.time}`})]}),t.jsx("div",{className:"flex items-center justify-between px-3",children:t.jsxs("p",{className:"mb-2 text-default-400 text-small",children:["Total ",e==null?void 0:e.teams_quantity," equipos"]})})]}):null,t.jsxs(P,{"aria-label":"Users Table",children:[t.jsx(q,{columns:x,children:o=>t.jsx(v,{className:"uppercase",children:o.label},o.key)}),t.jsx(A,{emptyContent:m?" ":u.length===0?"No se encontraron torneos":"",items:m?[]:u,isLoading:m,loadingContent:t.jsx(k,{label:"Loading..."}),children:o=>t.jsx(S,{className:"justify-center",children:l=>t.jsx($,{children:l==="team_id"?t.jsx("p",{children:o.team_id.name}):C(o,l)})},o.team_id._id)})]}),t.jsx(B,{matches:g,tournamentId:c})]})};export{se as default};
