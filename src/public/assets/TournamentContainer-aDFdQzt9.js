import{j as s,r as c,s as F,B as A,p as C,f as I,C as q,D as M}from"./index-vn-uB_PF.js";import{F as B}from"./Fixture-OKADQYMt.js";import{b as R}from"./react-a8uGs0Cm.js";import{t as k,a as w,b as g,c as N,d as T,e as $}from"./chunk-YRZGWF2W-Yk-WWYGM.js";import{g as G}from"./chunk-KARN4QIT-ooFmLp3Y.js";import{S as d,F as b}from"./SectionContainer-SJpY688x.js";import"./moment-WSJ9un1t.js";import"./chunk-MA2FG3JE-MG0YzEM-.js";import"./chunk-AMSULWPV-XFWhocKB.js";import"./import-U70j1u4L.js";import"./pen-square-rTyVvCMR.js";import"./chunk-3S23ARPO-HdXhVAUV.js";import"./chunk-EPDLEVDR-akxFWiVy.js";import"./chunk-TC4QW7OA-bpo2Wx46.js";import"./import-oUm0S_O9.js";import"./chunk-M3MASYO7-FEWdLeLD.js";import"./ballIcon-a3ucsd8i.js";import"./chunk-K3TANQWH-5Nhnipg5.js";import"./chunk-ZFWMN6TD-wOnHOmEC.js";import"./chunk-7F3ZLNJ6-48lQS6Z3.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./chunk-OFH6WYRQ-v3iLDskg.js";const P=({infoHeader:e})=>{const a=e==null?void 0:e.name,r=`${e==null?void 0:e.sport} (${e==null?void 0:e.category}) / ${e.day} ${e==null?void 0:e.time}`,o=e==null?void 0:e.teams_quantity;return s.jsx(J,{_:a,_2:r,_3:o})},J=R(({_:e,_2:a,_3:r})=>s.jsxs("div",{className:"flex flex-col gap-1",children:[s.jsxs("div",{className:"lg:px-3 mb-6 text-center",children:[s.jsx("h1",{className:"text-xl lg:text-3xl font-bold uppercase",children:e}),s.jsx("span",{className:"font-semibold uppercase text-default-400",children:a})]}),s.jsx("div",{className:"flex items-center justify-between px-3",children:s.jsxs("p",{className:"mb-2 text-default-400 text-small",children:["Total ",r," equipos"]})})]}),{svg:!1,shouldUpdate:(e,a)=>(e==null?void 0:e._)!==(a==null?void 0:a._)||(e==null?void 0:e._2)!==(a==null?void 0:a._2)||(e==null?void 0:e._3)!==(a==null?void 0:a._3)});P.__block_callable__=!0;const U=P,z=[{label:"Equipo",key:"team_id"},{label:"PJ",key:"played_matches"},{label:"PG",key:"wins"},{label:"PP",key:"losses"},{label:"PE",key:"ties"},{label:"ðŸŸ¨",key:"yellow_cards"},{label:"ðŸŸ¥",key:"red_cards"},{label:"Pts",key:"points"}],D=({targets:e})=>{const[a,r]=c.useState([]),[o,p]=c.useState(!0);return c.useEffect(()=>{e&&(r(e.sort((t,n)=>n.points!==t.points?n.points-t.points:t.red_card!==n.red_card?t.red_card-n.red_card:t.yellow_card-n.yellow_card)),p(!1))},[e]),s.jsxs(k,{"aria-label":"Users Table",children:[s.jsx(w,{columns:z,children:t=>s.jsx(g,{className:"uppercase",children:t.label},t.key)}),s.jsx(N,{emptyContent:o?" ":a.length===0?"No se encontraron torneos":"",items:o?[]:a,isLoading:o,loadingContent:s.jsx(F,{label:"esto puede tardar un momento..."}),children:t=>s.jsx(T,{className:"justify-center",children:n=>s.jsx($,{children:n==="team_id"?s.jsx("p",{children:t.name}):G(t,n)})},t._id)})]})},L=[{label:"Jugador",key:"customName"},{label:"ðŸŸ¥",key:"cantidad"}],V=({targets:e})=>e?s.jsxs(k,{"aria-label":"Players Table",className:"max-h-[250px]",children:[s.jsx(w,{columns:L,children:a=>s.jsx(g,{className:"uppercase",children:a.label},a.key)}),s.jsx(N,{items:e,children:a=>s.jsx(T,{children:r=>s.jsx($,{className:"capitalize",children:r==="customName"?s.jsx(A,{avatarProps:{radius:"md",src:a.player.avatar.url},name:`${a.player.last_name} ${a.player.first_name} `,description:a.player.country_id.name,children:`${a.first_name} ${a.last_name}`}):r==="cantidad"?s.jsx("p",{children:a.cantidad}):null})},a.player._id)})]}):null,he=()=>{var m,h,_,x,y,j;const{id:e}=C(),{refresh:a,isHiddenTopBar:r}=I(),[o,p]=c.useState(!0),[t,n]=c.useState(null),[u,E]=c.useState(null),[S,v]=c.useState([]);return c.useEffect(()=>{(async()=>{const i=await q(e);if(i.ok){const{response:l}=await i.json();E({category:l.category_id.name,day:l.day,name:l.name,sport:l.sport,time:l.time,teams_quantity:l.teams_quantity,createdAt:l.createdAt,updatedAt:l.updatedAt})}})()},[e,a]),c.useEffect(()=>{(async()=>{const i=await M(e);if(!i.ok){console.log("Algo salio mal en el fetch");return}const{response:l}=await i.json();v(l)})()},[e,a]),c.useEffect(()=>{p(!0),(async()=>{try{const i=await fetch(`https://apdcc-back-production.up.railway.app/api/matches/tournament/${e}`,{method:"GET",credentials:"include"});if(i.ok){const l=await i.json();n(l)}}catch{throw new Error}finally{p(!1)}})()},[e,a]),s.jsxs("section",{className:`${r?"pt-12":"pt-36"} absolute top-0 left-0 w-full pl-5 lg:pl-[200px] pb-16  lg:pt-20 pr-5 overflow-y-scroll h-screen bg-black`,children:[u?s.jsx(U,{infoHeader:u}):null,s.jsx(D,{targets:t==null?void 0:t.matchsresults}),s.jsxs("div",{className:"flex w-full gap-5 mt-8 ",children:[s.jsx(d,{title:"juego limpio",isFetching:o,targets:t,children:s.jsx(b,{items:(m=t==null?void 0:t.fair_play)!=null&&m.length?[{...(h=t==null?void 0:t.fair_play)==null?void 0:h.player,cantidad:(_=t==null?void 0:t.fair_play)==null?void 0:_.cantidad}]:[],tournament:!0})}),s.jsx(d,{title:"mejor jugador",isFetching:o,targets:t,children:s.jsx(b,{items:(x=t==null?void 0:t.best_player)!=null&&x.length?[{...(y=t==null?void 0:t.best_player)==null?void 0:y.player,cantidad:(j=t==null?void 0:t.best_player)==null?void 0:j.cantidad}]:[],tournament:!0})}),s.jsx(d,{title:"jugadores con tarjetas rojas",isFetching:o,targets:t,children:s.jsx(V,{targets:t==null?void 0:t.red_cards_players})})]}),s.jsx(B,{matches:S,tournamentId:e})]})};export{he as default};
