import{u as N,j as e,m as w,a as v,i as P,s as j,B as k,p as M,r as n,a1 as $}from"./index-vz6hTU99.js";import{I as E}from"./image-tVXFzz3h.js";import{m as T}from"./chunk-3S23ARPO-tQT5EPGf.js";import{m as C}from"./chunk-EPDLEVDR-4AwwNosQ.js";import{t as I,a as L,b as S,c as B,d as D,e as O}from"./chunk-YRZGWF2W-eCFv_EBG.js";import{g as z}from"./chunk-KARN4QIT-FHaZiVQg.js";import"./chunk-AMSULWPV-wS1TgwMM.js";import"./import-VOzEaUhZ.js";import"./chunk-7F3ZLNJ6-TtLaDn5p.js";function F({dni:l,dniUrl:t}){const{isOpen:o,onOpen:a,onOpenChange:s}=N();return e.jsxs(e.Fragment,{children:[e.jsxs("p",{onClick:a,className:"flex gap-1 cursor-pointer hover:text-blue-500",children:[e.jsx(E,{size:18}),l]}),e.jsx(w,{scrollBehavior:"inside",isOpen:o,onOpenChange:s,className:"border dark text-foreground border-default-400 w-fit",children:e.jsx(v,{children:()=>e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"flex flex-col gap-1"}),e.jsx(C,{className:"flex justify-center",children:e.jsx(P,{src:t,alt:"imagen dni",className:"mx-auto"})})]})})})]})}const J=[{label:"nombre",key:"customName"},{label:"DNI",key:"dni"},{label:"edad",key:"age"}],V=function({players:t,name:o}){return e.jsxs("section",{className:"w-full pb-16 mb-10",children:[e.jsx("div",{children:e.jsxs("p",{className:"pb-4 text-center",children:["Jugadores de ",e.jsx("strong",{className:"uppercase text-yellow-500",children:o})]})}),e.jsxs(I,{"aria-label":"Players Table",children:[e.jsx(L,{columns:J,children:a=>e.jsx(S,{className:"uppercase",children:a.label},a.key)}),e.jsx(B,{emptyContent:t.length===0?"No se encontraron jugadores/as":"",items:t,loadingContent:e.jsx(j,{className:"mt-12",label:"Loading..."}),children:a=>e.jsx(D,{children:s=>e.jsx(O,{className:"capitalize",children:s==="customName"?e.jsx(k,{avatarProps:{radius:"lg",src:a.avatar.url},name:`${a.first_name} ${a.last_name}`,children:`${a.first_name} ${a.last_name}`}):s==="dni"?e.jsx(F,{dni:a.dni,dniUrl:a.dni_photo.url}):z(a,s)})},a._id)})]})]})},h=V,Y=()=>{var m,f,u,p;const{id:l}=M(),[t,o]=n.useState(!0),[a,s]=n.useState(null),[_,b]=n.useState([]),[g,y]=n.useState([]);return n.useEffect(()=>{l&&(async d=>{const c=await $(d);if(c.ok){const{response:r}=await c.json();s(r)}})(l)},[l]),n.useEffect(()=>{const i=async(d,c)=>{try{const r=await fetch(`http://localhost:8080/api/players/all/?team=${d}`,{method:"GET",credentials:"include"});if(r.ok){const{response:x}=await r.json();c?b(x):y(x)}}catch(r){throw new Error(r)}finally{o(!1)}};a&&(i(a.local.team_id._id,!0),i(a.visit.team_id._id,!1))},[a]),t?e.jsxs("div",{className:"w-full h-screen absolute top-0 left-0 flex flex-col gap-2 justify-center items-center",children:[e.jsx(j,{}),"...loading"]}):e.jsx("section",{className:"absolute top-0 left-0 w-full pt-24 pl-5 pb-16 pr-5 overflow-y-scroll h-screen",children:e.jsx("div",{className:"dark text-foreground",children:e.jsxs("div",{className:"flex flex-wrap justify-between w-full gap-5",children:[e.jsx(h,{players:_,name:(f=(m=a.local)==null?void 0:m.team_id)==null?void 0:f.name}),e.jsx(h,{players:g,name:(p=(u=a.visit)==null?void 0:u.team_id)==null?void 0:p.name})]})})})};export{Y as default};
