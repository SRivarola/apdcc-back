import{j as e,r as i,s as C,b as A,ar as E,h as z,aa as F,a6 as $}from"./index-ZYsKmL2q.js";import{b as M,r as j}from"./react-dhcfeWuh.js";import{N as P}from"./NavbarPdf-3G3IU7al.js";import{S as y,V as d,T as p,D as b,P as k,I as R,a as B}from"./react-pdf.browser-mI8XMjq1.js";import"./lodash-bic7L-C7.js";import{l as L}from"./LOGO-NEGRO-HORIZONTAL-msT39if3.js";import{h as I}from"./moment-WSJ9un1t.js";import{s as V,l as U}from"./chunk-ZFWMN6TD-NCPWi2W-.js";import"./objectWithoutPropertiesLoose-pdUxmcoj.js";import"./_commonjs-dynamic-modules-h-SxKiO4.js";import"./import-TQGMvxmy.js";import"./import-Cvqk6t50.js";import"./chunk-7F3ZLNJ6-sCMunDZj.js";const Y=({match:t})=>{var s,r,n,u;return e.jsxs(d,{style:g.container,children:[e.jsx(p,{style:g.local,children:((r=(s=t==null?void 0:t.local)==null?void 0:s.team_id)==null?void 0:r.name.toLowerCase())||"LIBRE"}),e.jsx(p,{style:g.vs,children:"vs"}),e.jsx(p,{style:g.visit,children:((u=(n=t==null?void 0:t.visit)==null?void 0:n.team_id)==null?void 0:u.name.toLowerCase())||"LIBRE"})]})},g=y.create({container:{fontSize:12,flexDirection:"row",textTransform:"capitalize",marginVertical:5,borderBottomColor:"#000",borderBottomWidth:1,borderBottomStyle:"solid"},local:{textAlign:"left",width:"45%",paddingLeft:2},vs:{textAlign:"center",width:"10%"},visit:{textAlign:"right",width:"45%",textTransform:"capitalize",paddingRight:2}}),O=({round:t})=>e.jsx(d,{style:H.container,children:t.map(s=>e.jsx(Y,{match:s},s._id))}),H=y.create({container:{marginTop:5}}),K=({matches:t,title:s})=>e.jsx(b,{children:e.jsx(k,{size:"A4",style:l.page,children:e.jsxs(d,{children:[e.jsxs(d,{style:l.header,children:[e.jsx(R,{src:L,style:l.image}),e.jsxs(d,{style:l.header_section2,children:[e.jsx(p,{children:"FIXTURE TORNEO"}),e.jsx(p,{children:s.toUpperCase()||""})]})]}),e.jsx(d,{style:l.body,children:t.map((r,n)=>e.jsxs(d,{style:l.roundContainer,children:[e.jsxs(d,{style:l.roundHeader,children:[e.jsxs(p,{style:l.round,children:["Fecha ",n+1]}),e.jsx(p,{style:l.date,children:I(r[0].date).format("DD-MM-YYYY")})]}),e.jsx(O,{round:r})]},n))})]})})}),l=y.create({page:{flexDirection:"column",justifyContent:"space-between",backgroundcolumnor:"#E4E4E4",padding:15,marginBottom:5},image:{width:100,height:40},header:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",fontSize:"14px"},header_section2:{display:"flex",flexDirection:"column",paddingVertical:5},body:{marginTop:25},roundContainer:{marginVertical:12},round:{textAlign:"center",fontSize:15},date:{textAlign:"center",fontSize:12}}),q=({matches:t})=>{const[s,r]=i.useState([]);return i.useEffect(()=>{const u=Object.values(t.reduce((a,x)=>{const c=x.round;return a[c]||(a[c]=[]),a[c].push(x),a},{})).sort((a,x)=>{const c=new Date(a[0].date),f=new Date(x[0].date);return c-f});r(u)},[t]),e.jsx(e.Fragment,{children:s.length?e.jsx(B,{document:e.jsx(K,{matches:s,title:t[0].tournament_id.name}),fileName:`fixture ${t[0].tournament_id.name}`,children:({loading:n})=>n?e.jsx("div",{className:"flex gap-2 px-4 py-2 text-sm font-semibold text-black bg-white rounded",children:e.jsx(C,{size:"sm"})}):e.jsx(A,{endContent:e.jsx(E,{size:20}),size:"sm",className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold text-black bg-white rounded",children:"Fixture"})}):null})},W=()=>{const{isHiddenTopBar:t}=z(),[s,r]=i.useState([]),[n,u]=i.useState(null),[a,x]=i.useState([]),[c,f]=i.useState(!1),w=async()=>{const o=await F();if(o.ok){const{response:m}=await o.json();r(m)}},_=async o=>{f(!0);try{const m=await $(o);if(m.ok){const{response:N}=await m.json();x(N)}}catch(m){throw m}finally{f(!1)}};i.useEffect(()=>{w()},[]),i.useEffect(()=>{n&&_(n.currentKey)},[n]);const h=i.useState(()=>({$:new Array(3)}))[0],T=`${t?"pt-12":"pt-36"} absolute top-0 left-0 w-full pl-5 lg:pl-[200px] pb-16  lg:pt-20 pr-5 overflow-y-scroll bg-black`,S=j(e.jsx(P,{}),!1,h.$,0,!1),v=j(s?e.jsx(V,{className:"w-[350px] font-semibold",label:"Torneos",size:"sm",color:"warning",variant:"underlined",value:n,selectedKeys:n,onSelectionChange:u,children:s.map(o=>e.jsx(U,{value:o._id,children:o.name.toUpperCase()},o._id))}):null,!1,h.$,1,!1),D=j(n?c?e.jsx("p",{children:"Cargando..."}):a.length?e.jsx(q,{matches:a}):e.jsx("p",{className:"text-warning",children:"⚠️ No se encontraron partidos disponibles."}):e.jsx("p",{children:"Indique el torneo deseado."}),!1,h.$,2,!1);return e.jsxs(e.Fragment,{children:[e.jsx(X,{_:T,_2:S,_3:v,_4:D}),h.$.map(o=>o.portal)]})},X=M(({_:t,_2:s,_3:r,_4:n})=>e.jsxs("section",{className:t,children:[s,e.jsxs("div",{className:"w-full flex flex-col text-default-300 p-10 items-center gap-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-4 pt-4 h-12 w-full",children:[e.jsx("p",{className:"text-white pt-2",children:"Seleccione el torneo:"}),r]}),e.jsx("div",{className:"w-full flex justify-center pt-14",children:n})]})]}),{svg:!1,shouldUpdate:(t,s)=>(t==null?void 0:t._)!==(s==null?void 0:s._)||(t==null?void 0:t._2)!==(s==null?void 0:s._2)||(t==null?void 0:t._3)!==(s==null?void 0:s._3)||(t==null?void 0:t._4)!==(s==null?void 0:s._4)}),de=W;export{de as default};
