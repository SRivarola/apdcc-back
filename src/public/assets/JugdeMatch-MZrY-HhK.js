import{a as w,j as e,m as v,d as k,c as P,s as b,a0 as M,r as o,ag as E}from"./index-5M1a1n6R.js";import{I as T}from"./image-o-QBJ7z8.js";import{m as $}from"./chunk-3S23ARPO-3kv4pyHl.js";import{m as C}from"./chunk-EPDLEVDR-Zb_w-LYm.js";import{t as F,a as I,b as L,c as S,d as D,e as O}from"./chunk-YRZGWF2W-Mw69jZKW.js";import{g as z}from"./chunk-KARN4QIT-5WIMKTJh.js";import"./chunk-AMSULWPV-BPVtm0QH.js";import"./chunk-7F3ZLNJ6-daJBIF0v.js";function h({dni:l,dniUrl:t}){const{isOpen:n,onOpen:a,onOpenChange:s}=w();return e.jsxs(e.Fragment,{children:[e.jsxs("p",{onClick:a,className:"flex gap-1 cursor-pointer hover:text-blue-500",children:[e.jsx(T,{size:18}),l]}),e.jsx(v,{scrollBehavior:"inside",isOpen:n,onOpenChange:s,className:"border dark text-foreground border-default-400 w-fit",children:e.jsx(k,{children:()=>e.jsxs(e.Fragment,{children:[e.jsx($,{className:"flex flex-col gap-1"}),e.jsx(C,{className:"flex justify-center",children:t?e.jsx(P,{src:t,alt:"imagen dni",className:"mx-auto"}):e.jsx("p",{children:"No hay imagen cargada por el momento..."})})]})})})]})}const B=[{label:"nombre",key:"customName"},{label:"Foto",key:"photo"},{label:"DNI",key:"dni"},{label:"edad",key:"age"}],J=function({players:t,name:n}){return e.jsxs("section",{className:"w-full pb-16 mb-10",children:[e.jsx("div",{children:e.jsxs("p",{className:"pb-4 text-center",children:["Jugadores de ",e.jsx("strong",{className:"text-yellow-500 uppercase",children:n})]})}),e.jsxs(F,{"aria-label":"Players Table",children:[e.jsx(I,{columns:B,children:a=>e.jsx(L,{className:"uppercase",children:a.label},a.key)}),e.jsx(S,{emptyContent:t.length===0?"No se encontraron jugadores/as":"",items:t,loadingContent:e.jsx(b,{className:"mt-12",label:"Loading..."}),children:a=>e.jsx(D,{children:s=>e.jsx(O,{className:"capitalize",children:s==="customName"?e.jsx("p",{children:`${a.first_name} ${a.last_name}`}):s==="photo"?e.jsx(h,{dni:"Foto",dniUrl:a.avatar.url}):s==="dni"?e.jsx(h,{dni:a.dni,dniUrl:a.dni_photo.url}):z(a,s)})},a._id)})]})]})},j=J,W=()=>{var m,f,u,p;const{id:l}=M(),[t,n]=o.useState(!0),[a,s]=o.useState(null),[g,_]=o.useState([]),[y,N]=o.useState([]);return o.useEffect(()=>{l&&(async d=>{const c=await E(d);if(c.ok){const{response:r}=await c.json();s(r)}})(l)},[l]),o.useEffect(()=>{const i=async(d,c)=>{try{const r=await fetch(`http://localhost:8080/api/players/all/?team=${d}`,{method:"GET",credentials:"include"});if(r.ok){const{response:x}=await r.json();c?_(x):N(x)}}catch(r){throw new Error(r)}finally{n(!1)}};a&&(i(a.local.team_id._id,!0),i(a.visit.team_id._id,!1))},[a]),t?e.jsxs("div",{className:"w-full h-screen absolute top-0 left-0 flex flex-col gap-2 justify-center items-center",children:[e.jsx(b,{}),"...loading"]}):e.jsx("section",{className:"absolute top-0 left-0 w-full pt-24 pl-5 pb-16 pr-5 overflow-y-scroll h-screen",children:e.jsx("div",{className:"dark text-foreground",children:e.jsxs("div",{className:"flex flex-wrap justify-between w-full gap-5",children:[e.jsx(j,{players:g,name:(f=(m=a.local)==null?void 0:m.team_id)==null?void 0:f.name}),e.jsx(j,{players:y,name:(p=(u=a.visit)==null?void 0:u.team_id)==null?void 0:p.name})]})})})};export{W as default};
